@if (User.Identity.IsAuthenticated)
{
    @await Html.PartialAsync("CreatePost")
}

<div class="social-container">
    <div id="postsContainer" class="social-posts-container">
        <!-- Posts will load here dynamically -->
    </div>
    @await Html.PartialAsync("_SocialLinks")
</div>

<div id="loading">
    <span class="spinner-border text-primary"></span> Loading...
</div>

<div id="endMessage" class="text-center mb-3 mt-4 text-black-50" style="display:none;">
    That's the end, until someone shares something new.
</div>

@section Scripts {
    <script>        
        let currentUser = null;
        let isAdmin = false;
        let isAuthenticated = false;

        @if (User.Identity.IsAuthenticated)
        {
            <text>
                currentUser = "@User.Identity.Name";
                isAdmin = @User.IsInRole("Admin").ToString().ToLower();
                isAuthenticated = true;
            </text>
        }
    </script>

    <script src="~/js/fetchallposts.js"></script>
}